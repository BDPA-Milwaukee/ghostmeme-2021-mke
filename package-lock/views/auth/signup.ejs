<!DOCTYPE html>
<html>
<head>
<title><%= title %></title>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
<link rel="stylesheet" href="style.css">

<script>

    function RegisterTest() {
        var regUsername = document.forms["register"]["regUName"].value; // Get Values from the form
        var regPassword = document.forms["register"]["regPWord"].value; // Get Values from the form

        var userList = ["Root"];  // creating an array / list of usernames
        var pwList = ["BDPA"];  // creating an array / list of passwords

        document.getElementById("regUName").value = ""; // clears the field after use
        document.getElementById("regPWord").value = "";// clears the field after use

        for (var i = 0; i < userList.length; i++)  //traversing the array / list of usernames and passwords
        {
            if (regUsername == userList[i] && regPassword == pwList[i]) // checks if the username given is equal to one in the array
            {
                alert("That User Already Exsists")  // alert
            }
        }

        localStorage.setItem("regUName", regUsername);
        localStorage.setItem("regPWord", regPassword);

        userList.push(regUName);
        pwList.push(regPWord);

        alert("Sign up successful");
        return true; // allows to go to next page
    }

    function PasswordCheck() {
        var regPassword = document.forms["register"]["regPWord"].value; // Get Values from the form

        if (regPassword.length <= 10) {
            alert("Your password is too weak");  // alert
            return false;
        }

        else if (regPassword.length <= 17) {
            alert("Moderate Password")  // alert
        }

        else {
            alert("Excellent Password");
        }
    }

    function Captcha() {
        localStorage.clear()

        var captcha = document.forms["register"]["Captcha"].value; // Get Values from the form
        var random1 = Math.floor(Math.random() * Math.floor(Math.random() + 1));
        var random2 = Math.floor(Math.random() * Math.floor(Math.random() + 2));

        localStorage.setItem("randomNum1", random1);
        localStorage.setItem("randomNum2", random2);

        // how does the user see the random numbers on the page 

        if (captcha != random1 + random2) // checks if the username given is equal to one in the array
        {
            return false;
        }
    }

</script>

<style>
*{
    background-color: #162521
}
</style>



</head>
<body>
<% if (messages.error) { %>
<p style="color:red"><%- messages.error %></p>
<% } %>
<% if (messages.success) { %>
<p style="color:green"><%- messages.success %></p>
<% } %>

<form action="/auth/post-register" method="post" name="form1">

    <div class="form-group">
        <label for="regFullName"> Full Name </label>
        <input type="name" name="regFullName" class="form-control" id="regFullName" placeholder="Enter name" value="">
    </div> 

    <br>
    <br>

    <div class="form-group">
        <label for="phone">Enter a phone number:</label>
        <input type="tel" name="phone" class="form-control" id="phone" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" required placeholder="(123) - 123 - 1234" value="">
    </div>

    <br>

    <p>Format: 123-123-1234</p>

    <br>
    <br>

    <div class="form-group">
        <label for="regEmailAddress">Email Address</label>
        <input type="email" name="regEmailAddress" class="form-control" id="regEmailAddress" value="">
    </div>

    <br>
    <br>

    <div class="form-group">
        <label for="regUName"> Username </label>
        <input type="text" name="regUName" class="form-control" id="regUName" value="">
    </div>

    <br>
    <br>

    <div class="form-group">
        <label for="regPWord"> Password </label>
        <input type="password" name="regPWord" class="form-control" id="regPWord" placeholder="********" value="">
    </div>

    <br>
    <br>

    <div class="form-group">
        <label for="avatar">Choose a profile picture:</label>
        <input type="file" name="avatar" class="form-control" id="avatar" accept="image/png, image/jpeg">
    </div>

    <br>
    <br>

    <div class="form-group">
        <label for="Captcha"> Captcha </label>
        <input type="text" name="Captcha" class="form-control" id="Captcha" value="">
    </div>

    <br>
    <br>

    <div class="form-group">
        <label for="Remember">Remember Me</label>
        <input type="checkbox" name="Remember" class="form-control" id="Remember" value="">
    </div>

    <br>
    <br>

    <input type="submit" class="btn btn-primary" value="Add">
    </form> 

    <div class="box">
        <label for="login">Already have an account? </label>
        <a href="login.ejs" id="login">Login</a>
    </div>

</body>
</html>